
RewriteEngine On

#This is the node_id for javascript compiler. 
#Not sure what is the point of canonicalising 
#its url -- JGH
RewriteRule ^node/1869865/(.*)$            index.pl?node_id=1869865            [R]

RewriteRule ^node/(\d+)/(\w+)/?$           index.pl?node_id=$1&displaytype=$2  [QSA]
RewriteRule ^node/(\d+)([^&]*)/?$          index.pl?node_id=$1$2               [QSA]
RewriteRule ^e2node/(.+)                   title/$1                            [R]  

RewriteRule ^user/([^&]+).*/?$             index.pl?node=$1&type=user          [QSA]
RewriteRule ^node/([^\W\/]+)/([^&]+).*/?$  index.pl?node=$2&type=$1            [QSA]
RewriteRule ^title/([^&]+).*/?$            index.pl?node=$1                    [QSA]
RewriteRule ^(hg|ecore)/?$                 hgweb.cgi
RewriteRule ^scratch/(.+)/(.+)/?$          index.pl?node=scratch\ pads&other_user=$1&scratch_title=$2
RewriteRule ^scratch/(.+)/?$               index.pl?node=scratch\ pads&other_user=$1

RewriteRule ^user/([^&]+)/writeups/([^&]).*/?$   index.pl?node=$2&type=writeup&author=$1      [QSA]