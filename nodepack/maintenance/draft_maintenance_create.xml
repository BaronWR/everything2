<node>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2011-02-14 10:03:34</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>1991245</node_id>
  <htmlcode_id>1991245</htmlcode_id>
  <maintenance_id>1991245</maintenance_id>
  <checks_arguments>0</checks_arguments>
  <maintaintype>create</maintaintype>
  <code>my ($D) = @_;
getRef $D;

# make sure it has a publication status
$$D{publication_status} = $query -&gt; param('draft_publication_status') ||
	getNode('private', 'publication_status') -&gt; {node_id};

# if draft has just been created from an e2node
# doctext parameter would be ignored because of wrong nodetype prefix
$$D{doctext} = $query -&gt; param('writeup_doctext') if $query -&gt; param('writeup_doctext');

updateNode($D, $USER);
</code>
  <type_nodetype>150</type_nodetype>
  <author_user>1828141</author_user>
  <package>0</package>
  <maintain_nodetype>1991079</maintain_nodetype>
  <title>draft maintenance create</title>
</node>
