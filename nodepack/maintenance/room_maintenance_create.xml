<node>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2000-08-25 06:55:34</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>719776</node_id>
  <htmlcode_id>719776</htmlcode_id>
  <maintenance_id>719776</maintenance_id>
  <checks_arguments>0</checks_arguments>
  <maintaintype>create</maintaintype>
  <code>my ($N) = @_;

use Everything::Experience;

my $canCreate = (getLevel($USER) &gt;= $HTMLVARS{roomCreateLevel} or isGod($USER));
$canCreate = 0 if htmlcode('isSuspended', 'room', $USER);

if (!$canCreate) {
  nukeNode($N, -1);
  return;
}

getRef($N);
$$N{criteria} = &quot;1\;&quot;;
$$N{author_user} = getId(getNode('gods', 'usergroup'));
$$N{doctext} = $query-&gt;param('room_doctext') if defined $query-&gt;param('room_doctext');

updateNode($N, -1);</code>
  <type_nodetype>150</type_nodetype>
  <author_user>114</author_user>
  <package>0</package>
  <maintain_nodetype>545241</maintain_nodetype>
  <title>room maintenance create</title>
</node>
