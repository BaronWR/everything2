<node>
  <nltext></nltext>
  <parent_container>175986</parent_container>
  <icon></icon>
  <core>0</core>
  <reputation>0</reputation>
  <nlgoto>0</nlgoto>
  <lockedby_user>0</lockedby_user>
  <totalvotes>0</totalvotes>
  <locktime>0000-00-00 00:00:00</locktime>
  <createtime>2002-06-04 23:16:55</createtime>
  <lastupdate>0</lastupdate>
  <hits>0</hits>
  <node_id>1313146</node_id>
  <iconHeight>0</iconHeight>
  <type_nodetype>9</type_nodetype>
  <iconWidth>0</iconWidth>
  <author_user>9740</author_user>
  <updateinterval>0</updateinterval>
  <package>0</package>
  <nodelet_id>1313146</nodelet_id>
  <nlcode>[%
if((exists $VARS-&gt;{lockCustomHTML})) { 	#may later say why locked? or give a msg field to anon admin?
	return '&lt;p&gt;Sorry, the Outside URLs nodelet is currently locked, probably because an admimistrator is working with your account. It should soon be back to normal.&lt;/p&gt;';
}

#note: this assumes all the URLs and display text have already been properly screened

use Everything::Experience;
my $numAllowed = getLevel($USER) || 0;
return '&lt;p&gt;You need to be a higher level to use the Outside URLs nodelet.&lt;/p&gt;' if $numAllowed&lt;1;
$numAllowed += 2;
$numAllowed = 20 if $numAllowed&gt;20;

my $str='';

my $link;
my $linkDisp;
my $i=0;
for(;$i&lt;$numAllowed;++$i) {
	last unless exists $VARS-&gt;{'urlLink'.$i};
	$link = $VARS-&gt;{'urlLink'.$i};
	$linkDisp = (exists $VARS-&gt;{'urlDisp'.$i}) ? $VARS-&gt;{'urlDisp'.$i} : $link;

	$str .= '&lt;li&gt;&lt;a href=&quot;'.$link.'&quot; target=&quot;_blank&quot;&gt;' . $linkDisp . &quot;&lt;/a&gt;&lt;/li&gt;\n&quot;;
}

return '&lt;p&gt;&lt;em&gt;You currently have no outside links set.&lt;/em&gt;&lt;/p&gt;' if $i==0;

return &quot;&lt;ul&gt;\n&quot; . $str . '&lt;/ul&gt;';
%]

&lt;p align=&quot;right&quot;&gt;&lt;small&gt;&lt;small&gt;(&lt;a href=[% urlGen({'node'=&gt;'Outside URLs nodelet editor','type'=&gt;'superdoc'}); %]&gt;edit&lt;/a&gt;)&lt;/small&gt;&lt;/small&gt;&lt;/p&gt;</nlcode>
  <title>Outside URLs</title>
</node>
