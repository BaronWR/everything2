<node>
  <createtime>2009-12-11 12:41:44</createtime>
  <totalvotes>0</totalvotes>
  <node_id>1988989</node_id>
  <code># Returns the star rating for a node that the current user/Guest-User-session previously set.
# Returns the rating (1-10) or undef if there has been no rating by this user.
my ($ratedNode) = shift;

getRef($ratedNode);

my $sessionId = htmlcode('getStarRatingSessionId');
my $queryStr = &lt;&lt;SQLEND;
SELECT rating_value
  FROM starrating
  WHERE starrating_id = ?
  AND rater_test_session_id = ?
SQLEND

return $DB-&gt;getDatabaseHandle()-&gt;selectrow_array (
  $queryStr
  , { }
  , $$ratedNode{node_id}, $sessionId
  );

</code>
  <type_nodetype>4</type_nodetype>
  <author_user>1449265</author_user>
  <title>getStarRating</title>
</node>
