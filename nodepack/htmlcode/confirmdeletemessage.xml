<node>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2011-03-09 15:53:37</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>1991522</node_id>
  <htmlcode_id>1991522</htmlcode_id>
  <checks_arguments>0</checks_arguments>
  <code>my ($messageID,$actioned)=@_;
my $str;


if ($actioned eq &quot;deleted&quot;) {
  return &quot;Message deleted&quot;;
}
if ($actioned eq &quot;archived&quot;) {
  return &quot;Message archived&quot;;
}


my $archiveWhat=&quot;archive_$messageID&quot;;

$str.=linkNode( $NODE , 'Archive message' , { op =&gt; 'message', $archiveWhat =&gt; 'yup', lastnode_id =&gt; 0 , -title =&gt; &quot;archive the above message&quot; , -class =&gt; &quot;action ajax message_$messageID:confirmDeleteMessage:$messageID,archived&quot; });

$str.=' or ';

my $deleteWhat=&quot;deletemsg_$messageID&quot;;

$str.=linkNode( $NODE , 'delete for good' , { op =&gt; 'message', $deleteWhat =&gt; 'yup', lastnode_id =&gt; 0 , -title =&gt; &quot;delete the above message&quot; , -class =&gt; &quot;action ajax message_$messageID:confirmDeleteMessage:$messageID,deleted&quot; });

return $str;</code>
  <type_nodetype>4</type_nodetype>
  <author_user>1017738</author_user>
  <package>0</package>
  <title>confirmDeleteMessage</title>
</node>
