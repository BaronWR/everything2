<node>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2009-12-14 16:38:00</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>1989045</node_id>
  <htmlcode_id>1989045</htmlcode_id>
  <checks_arguments>0</checks_arguments>
  <code># Returns a session ID for the current user for the current test (star ratings)
# This ID is intended to uniquely identify a person
#  - as such every Guest User from the same machine should have the same session
#  - every login from a particular logged in user should get the same session

# Until we actually assign session IDs, we're going to do a dummy version of this

my $user_id = $$USER{user_id};
my $username = lc($$USER{title});

my %fixedSessionIdHash = (
  'swap' =&gt; 1
  , 'oldminer' =&gt; 2
  , 'jostling elders' =&gt; 3
  , 'nate' =&gt; 4
);

my $sessionId = $fixedSessionIdHash{$username};

if (!(defined $sessionId)) {
   $sessionId = ord(substr($username, 0, 1)) + ord(substr($username, 1, 1));
}

return $sessionId;
</code>
  <type_nodetype>4</type_nodetype>
  <author_user>1449265</author_user>
  <package>0</package>
  <title>getStarRatingSessionId</title>
</node>
