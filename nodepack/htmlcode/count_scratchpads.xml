<node>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2011-10-17 07:57:38</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>1992493</node_id>
  <htmlcode_id>1992493</htmlcode_id>
  <checks_arguments>0</checks_arguments>
  <code>my ($user_id) = shift;

$user_id = int(getId $user_id);
$user_id ||= 0;

my ($scratch_count) =
  $DB-&gt;sqlSelect(
    &quot;SUM(scratch_count)&quot;
    , &quot;(
      SELECT COUNT(scratch_id) 'scratch_count'
        FROM scratch
        WHERE scratch_id = $user_id
    
      UNION ALL
    
      SELECT COUNT(scratch_id) 'scratch_count'
        FROM scratch2
        WHERE scratch_user = $user_id
    ) `scratch_counts`
    &quot;
  );

return $scratch_count;</code>
  <type_nodetype>4</type_nodetype>
  <author_user>1449265</author_user>
  <package>0</package>
  <title>count scratchpads</title>
</node>
