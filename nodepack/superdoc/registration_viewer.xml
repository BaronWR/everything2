<node>
  <doctext>&lt;center&gt;&lt;br /&gt;
[%
  my $chosen = $query-&gt;param('chosen_user');
  my $CHOSEN = getNode($chosen,'user')||$USER;

  my $str = openform().buildTable(['key','value'],[
    {'key'=&gt;'View for user','value'=&gt;$query-&gt;textfield(-name=&gt;'chosen_user',
      -default=&gt;$$CHOSEN{title},-size=&gt;'25',-maxlength=&gt;'255')},
    {'key'=&gt;'&amp;nbsp;','value'=&gt;submit()}
  ],'nolabels').'&lt;/form&gt;';

  my $csr = $DB-&gt;sqlSelectMany('*','registration',&quot;from_user=$$CHOSEN{user_id}&quot;)
    ||return &quot;SQL Problem.  Please notify a [coder].&quot;;
  my $labels = ['Registry','Data','Comments','Shown in Profile?'];
  my $rows;
  while(my $ref = $csr-&gt;fetchrow_hashref()){
    push @$rows,{
      'Registry'=&gt;linkNode($$ref{for_registry}),
      'Data'=&gt;stripHTML($$ref{data}),
      'Comments'=&gt;stripHTML($$ref{comments}),
      'Shown in Profile?'=&gt;['No','Yes']-&gt;[$$ref{in_user_profile}]
    };
  }
  if($rows){
    $str.= buildTable($labels,$rows);
  }else{
    $str.= '&lt;div style=&quot;text-align:center;font-weight:bold;margin:20px;&quot;&gt;'.
    linkNode($CHOSEN).' hasn\'t added any data to any registries yet'
  }
  $str;
%]
&lt;/center&gt;

[%
  my $DIRECTORY = getNode('Community Directory','superdoc')||return $!;
  '&lt;div style=&quot;text-align:center;font-weight:bold;margin:20px;&quot;&gt;'.
  'You can find a complete list of registries '.
  linkNode($DIRECTORY,'here',{'chosen_type'=&gt;'registry'}).'&lt;/div&gt;';
%]</doctext>
  <createtime>2009-11-12 21:38:50</createtime>
  <totalvotes>0</totalvotes>
  <node_id>1988626</node_id>
  <edittime>0000-00-00 00:00:00</edittime>
  <type_nodetype>14</type_nodetype>
  <author_user>1017738</author_user>
  <title>Registration Viewer</title>
</node>
