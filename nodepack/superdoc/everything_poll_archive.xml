<node>
  <doctext>[%

my $numtoshow=10;
my $startat = int($query-&gt;param(&quot;startat&quot;))||0;

my @polls = getNodeWhere({poll_status =&gt; 'closed'}, 'e2poll'
	, &quot;e2poll_id DESC LIMIT $startat, $numtoshow&quot;);

my $str = '&lt;ul&gt;';

foreach (@polls){
	$str .= '&lt;li&gt;'
		.htmlcode('showpoll', $_)
		.'&lt;/li&gt;';
}

$str .= '&lt;/ul&gt;';

my $PrevLink = linkNode($NODE, 'previous', {startat =&gt; $startat-$numtoshow})
	if $startat;
my $NextLink = linkNode($NODE,'next',{startat =&gt; $startat + $numtoshow})
	if scalar @polls == $numtoshow;

$str .= qq'&lt;p align=&quot;right&quot; class=&quot;pagination&quot;&gt;$PrevLink $NextLink&lt;/p&gt;';

return $str;

%]</doctext>
  <core>0</core>
  <reputation>0</reputation>
  <lockedby_user>0</lockedby_user>
  <createtime>2004-12-29 23:56:48</createtime>
  <locktime>0000-00-00 00:00:00</locktime>
  <totalvotes>0</totalvotes>
  <hits>0</hits>
  <node_id>1690777</node_id>
  <edittime>2011-10-03 07:10:35</edittime>
  <type_nodetype>14</type_nodetype>
  <document_id>1690777</document_id>
  <author_user>1312198</author_user>
  <package>0</package>
  <title>Everything Poll Archive</title>
</node>
